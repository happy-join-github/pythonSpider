import json
import time

import execjs
import requests

cookies = {
    'BIDUPSID': '3D14F35D2A9F924EF21CFCDDE208093A',
    'PSTM': '1694091198',
    'BAIDUID': '3D14F35D2A9F924E8CE517D4864200D7:FG=1',
    'REALTIME_TRANS_SWITCH': '1',
    'FANYI_WORD_SWITCH': '1',
    'HISTORY_SWITCH': '1',
    'SOUND_SPD_SWITCH': '1',
    'SOUND_PREFER_SWITCH': '1',
    'H_WISE_SIDS_BFESS': '39939_39999_40008',
    'APPGUIDE_10_6_9': '1',
    'Hm_lvt_64ecd82404c51e03dc91cb9e8c025574': '1708583808',
    'PSINO': '1',
    'ZFY': '9A4BoQKBQAF55TGpNj1Q4Nbh4hwnwnIc8oh65LtieO4:C',
    'BAIDUID_BFESS': '3D14F35D2A9F924E8CE517D4864200D7:FG=1',
    'delPer': '0',
    'BAIDU_WISE_UID': 'wapp_1709186322431_32',
    'BAIDU_SSP_lcr': 'https://cn.bing.com/',
    'BDUSS': 'ptZm5OeEVocm55OXJQTWw4UUd5bU1uaVZxUHEtZlBZcWJkNlY2Rm9hY3FyZ2RtRVFBQUFBJCQAAAAAAQAAAAEAAABaY6dgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACoh4GUqIeBlU0',
    'BDUSS_BFESS': 'ptZm5OeEVocm55OXJQTWw4UUd5bU1uaVZxUHEtZlBZcWJkNlY2Rm9hY3FyZ2RtRVFBQUFBJCQAAAAAAQAAAAEAAABaY6dgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACoh4GUqIeBlU0',
    'BDRCVFR[RBTe4tvL6q6]': 'K7PavkeTFPTUAN8ULuEQhPEUi4WU6',
    'BDRCVFR[-BxzrOzUsTb]': 'mk3SLVN4HKm',
    'H_WISE_SIDS': '40010_40169_40210_40206_40215_40224_40062_40277_40294_40290_40288_40284_40317_40080',
    'BCLID': '11374909470188453936',
    'BCLID_BFESS': '11374909470188453936',
    'BDSFRCVID': 'a60OJeC62CjlTlJqTfdtbZOwrJN1TM6TH6aoG6wJMlobMr5hf-mYEG0PEf8g0KubJ2MRogKKymOTHrIF_2uxOjjg8UtVJeC6EG0Ptf8g0f5',
    'BDSFRCVID_BFESS': 'a60OJeC62CjlTlJqTfdtbZOwrJN1TM6TH6aoG6wJMlobMr5hf-mYEG0PEf8g0KubJ2MRogKKymOTHrIF_2uxOjjg8UtVJeC6EG0Ptf8g0f5',
    'H_BDCLCKID_SF': 'tbkOoCIhtKL3jtOY5-__-4_tbh_X5-RLfaR4Kp7F5l8-hlOE0J650J_h0p6ZaPTILm-HoJoxfncxOKQ3hROoXTFU3h3xyhcba4jUalQN3KJmSPP9bT3v5fuYDG7k2-biW55L2Mbd-DbP_IoG2Mn8M4bb3qOpBtQmJeTxoUJ25DnJhbLGe6K5j65WDHAOqbbfb-oaLTrJaDkKflQOy4oTj6DWMh7q24JDym5LQRn_Lxj1hl61bCcC3MvBBUT9tTom3KnfoJDbblCVjPL4Qft20-4beMtjBMoaJRT75J7jWhvBDq72ybKMQlRX5q79atTMfNTJ-qcH0KQpsIJM5-DWbT8EjHCHJ5KqJbCOVIv5b-0_H4-k-PI3Wh0TXP6-35KHbKbOLJ6J-xTzDqQdMlQGy5DIhMDLQq37JHOX2K-h0h3ffIopDnoYqtPBD4oxJpOyMnbMopvpKDKhOhovbURv2tug3-7HtU5dtjTO2bc_5KnlfMQ_bf--QfbQ0hOhqP-j5JIE_CtyJKKahItr-PnfMtCsqxrL2-R2HD7yWCvO0KncOR5Jj65KhtIzqJODXxcJ0KbBbxjdKlc-jCO43MA-BPC70bAO5J880jvt5R_53n3ksq0x0MTWe-bQyPj3WbokKDOMahvXal7xO-_mQlPK5JkgMx6MqpQJQeQ-5KQN3KJmfbL9bT3WjjTXDa_DqT8JtJ3fL-082-5HjJbpMtvEq4tehHRKtjO9WDTm_Don2JRxDhcl3-jf5-DlXpJHBfCDQgDq-pPKKR7nM43_Xtvo-xuXjf7he4rk3mkjbp5Dfn02OP5Py65Y044syPR82xRnWTrAKfA-b4ncjRcTehoM3xI8LNj405OTbIFO0KJDJCcjqR8ZD6--j6jP',
    'H_BDCLCKID_SF_BFESS': 'tbkOoCIhtKL3jtOY5-__-4_tbh_X5-RLfaR4Kp7F5l8-hlOE0J650J_h0p6ZaPTILm-HoJoxfncxOKQ3hROoXTFU3h3xyhcba4jUalQN3KJmSPP9bT3v5fuYDG7k2-biW55L2Mbd-DbP_IoG2Mn8M4bb3qOpBtQmJeTxoUJ25DnJhbLGe6K5j65WDHAOqbbfb-oaLTrJaDkKflQOy4oTj6DWMh7q24JDym5LQRn_Lxj1hl61bCcC3MvBBUT9tTom3KnfoJDbblCVjPL4Qft20-4beMtjBMoaJRT75J7jWhvBDq72ybKMQlRX5q79atTMfNTJ-qcH0KQpsIJM5-DWbT8EjHCHJ5KqJbCOVIv5b-0_H4-k-PI3Wh0TXP6-35KHbKbOLJ6J-xTzDqQdMlQGy5DIhMDLQq37JHOX2K-h0h3ffIopDnoYqtPBD4oxJpOyMnbMopvpKDKhOhovbURv2tug3-7HtU5dtjTO2bc_5KnlfMQ_bf--QfbQ0hOhqP-j5JIE_CtyJKKahItr-PnfMtCsqxrL2-R2HD7yWCvO0KncOR5Jj65KhtIzqJODXxcJ0KbBbxjdKlc-jCO43MA-BPC70bAO5J880jvt5R_53n3ksq0x0MTWe-bQyPj3WbokKDOMahvXal7xO-_mQlPK5JkgMx6MqpQJQeQ-5KQN3KJmfbL9bT3WjjTXDa_DqT8JtJ3fL-082-5HjJbpMtvEq4tehHRKtjO9WDTm_Don2JRxDhcl3-jf5-DlXpJHBfCDQgDq-pPKKR7nM43_Xtvo-xuXjf7he4rk3mkjbp5Dfn02OP5Py65Y044syPR82xRnWTrAKfA-b4ncjRcTehoM3xI8LNj405OTbIFO0KJDJCcjqR8ZD6--j6jP',
    'BDRCVFR[Zh1eoDf3ZW3]': 'mk3SLVN4HKm',
    'BDORZ': 'B490B5EBF6F3CD402E515D22BCDA1598',
    'BA_HECTOR': '2lalaha10l2h0h2ha5050k8hbuvvn61iue1km1t',
    'H_PS_PSSID': '40010_40169_40210_40206_40215_40224_40062_40294_40290_40288_40284_40317_40080_40364_40352_40381_40367',
    'smallFlowVersion': 'old',
    'RT': '"z=1&dm=baidu.com&si=9752a732-bc5e-4443-8c51-5225d143b2b9&ss=ltf9ji6f&sl=1&tt=4zm&bcn=https%3A%2F%2Ffclog.baidu.com%2Flog%2Fweirwood%3Ftype%3Dperf&ld=5rs&ul=8xv&hd=91k"',
    'Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574': '1709697695',
    'ab_sr': '1.0.1_Mzg4YTFhNGNjNWEzMjBjY2IxM2I0YWFiNmNkNjVmMmRlMzZiZmM2N2VlYTRiOThhMDgzMmFjNDI2YTRlMDQ3NWY3ZjY4MzBjZTRiYmJjMDk3MjRmMmJhZjczZjYyMDY2OTUzZTMzOWI3N2E1YWQ1M2JkZDNlYTgyMjYxZmMzNWRjMGQ1ZDk5OWE5ZjRhZmQ5ZDE2MjM5NjgzOWM0MDdmMDcwYjRjMGIwNjljYzY0ODM3MTE3NDhkYjZjMmNhNDQ1',
}

headers = {
    'Accept': '*/*',
    'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6',
    'Acs-Token': '1709640005287_1709697694866_GZtuael923yxhrXUWk1zuEZGeQZBbNpTIG3LItfix4oYLZ0N+YdFXCenp4rqqkCQdgsEK22TyrQX7+fkzCs7kPN1AGbkB4VdcWQG4zIXNSTajXUzeZJrIsXz+c1MbYZMCh2h7/YLvCiaqhea+LErqwrw6FtYdXKTH1xb5Ak1adY1Ef0ymRKKWLGdvPee53Bzu0zry2Gq4IeNbWtIgUWBuCSsgHYGsKGhVlR7wD9DXvh2OtPkFUWLUib5m4aoqN14BRHsug7c6uiGBWxmDpFznLkx81zznMAqDgAhzSAQe/5Y0sjJsKvj6RV5mbX4IQ0sTZjh2VhGvAJ171lHxi8JWYENLmuhvF34MLk8sFoeVPU+GL+blEsG3+n8HBhrBYLSTCXN7HOYmifodyqdVicorv6gjSzHV17+ftueKawJW62rH5l/SFeF0klhoiPNp+dlS5gcB2EFm6LUnhwLtD9ZOKsVwaaxMj7+zfqv/u127UWbKd0yyvkRuM0E6vSW6gT7',
    'Connection': 'keep-alive',
    'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
    # 'Cookie': 'BIDUPSID=3D14F35D2A9F924EF21CFCDDE208093A; PSTM=1694091198; BAIDUID=3D14F35D2A9F924E8CE517D4864200D7:FG=1; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; H_WISE_SIDS_BFESS=39939_39999_40008; APPGUIDE_10_6_9=1; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1708583808; PSINO=1; ZFY=9A4BoQKBQAF55TGpNj1Q4Nbh4hwnwnIc8oh65LtieO4:C; BAIDUID_BFESS=3D14F35D2A9F924E8CE517D4864200D7:FG=1; delPer=0; BAIDU_WISE_UID=wapp_1709186322431_32; BAIDU_SSP_lcr=https://cn.bing.com/; BDUSS=ptZm5OeEVocm55OXJQTWw4UUd5bU1uaVZxUHEtZlBZcWJkNlY2Rm9hY3FyZ2RtRVFBQUFBJCQAAAAAAQAAAAEAAABaY6dgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACoh4GUqIeBlU0; BDUSS_BFESS=ptZm5OeEVocm55OXJQTWw4UUd5bU1uaVZxUHEtZlBZcWJkNlY2Rm9hY3FyZ2RtRVFBQUFBJCQAAAAAAQAAAAEAAABaY6dgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACoh4GUqIeBlU0; BDRCVFR[RBTe4tvL6q6]=K7PavkeTFPTUAN8ULuEQhPEUi4WU6; BDRCVFR[-BxzrOzUsTb]=mk3SLVN4HKm; H_WISE_SIDS=40010_40169_40210_40206_40215_40224_40062_40277_40294_40290_40288_40284_40317_40080; BCLID=11374909470188453936; BCLID_BFESS=11374909470188453936; BDSFRCVID=a60OJeC62CjlTlJqTfdtbZOwrJN1TM6TH6aoG6wJMlobMr5hf-mYEG0PEf8g0KubJ2MRogKKymOTHrIF_2uxOjjg8UtVJeC6EG0Ptf8g0f5; BDSFRCVID_BFESS=a60OJeC62CjlTlJqTfdtbZOwrJN1TM6TH6aoG6wJMlobMr5hf-mYEG0PEf8g0KubJ2MRogKKymOTHrIF_2uxOjjg8UtVJeC6EG0Ptf8g0f5; H_BDCLCKID_SF=tbkOoCIhtKL3jtOY5-__-4_tbh_X5-RLfaR4Kp7F5l8-hlOE0J650J_h0p6ZaPTILm-HoJoxfncxOKQ3hROoXTFU3h3xyhcba4jUalQN3KJmSPP9bT3v5fuYDG7k2-biW55L2Mbd-DbP_IoG2Mn8M4bb3qOpBtQmJeTxoUJ25DnJhbLGe6K5j65WDHAOqbbfb-oaLTrJaDkKflQOy4oTj6DWMh7q24JDym5LQRn_Lxj1hl61bCcC3MvBBUT9tTom3KnfoJDbblCVjPL4Qft20-4beMtjBMoaJRT75J7jWhvBDq72ybKMQlRX5q79atTMfNTJ-qcH0KQpsIJM5-DWbT8EjHCHJ5KqJbCOVIv5b-0_H4-k-PI3Wh0TXP6-35KHbKbOLJ6J-xTzDqQdMlQGy5DIhMDLQq37JHOX2K-h0h3ffIopDnoYqtPBD4oxJpOyMnbMopvpKDKhOhovbURv2tug3-7HtU5dtjTO2bc_5KnlfMQ_bf--QfbQ0hOhqP-j5JIE_CtyJKKahItr-PnfMtCsqxrL2-R2HD7yWCvO0KncOR5Jj65KhtIzqJODXxcJ0KbBbxjdKlc-jCO43MA-BPC70bAO5J880jvt5R_53n3ksq0x0MTWe-bQyPj3WbokKDOMahvXal7xO-_mQlPK5JkgMx6MqpQJQeQ-5KQN3KJmfbL9bT3WjjTXDa_DqT8JtJ3fL-082-5HjJbpMtvEq4tehHRKtjO9WDTm_Don2JRxDhcl3-jf5-DlXpJHBfCDQgDq-pPKKR7nM43_Xtvo-xuXjf7he4rk3mkjbp5Dfn02OP5Py65Y044syPR82xRnWTrAKfA-b4ncjRcTehoM3xI8LNj405OTbIFO0KJDJCcjqR8ZD6--j6jP; H_BDCLCKID_SF_BFESS=tbkOoCIhtKL3jtOY5-__-4_tbh_X5-RLfaR4Kp7F5l8-hlOE0J650J_h0p6ZaPTILm-HoJoxfncxOKQ3hROoXTFU3h3xyhcba4jUalQN3KJmSPP9bT3v5fuYDG7k2-biW55L2Mbd-DbP_IoG2Mn8M4bb3qOpBtQmJeTxoUJ25DnJhbLGe6K5j65WDHAOqbbfb-oaLTrJaDkKflQOy4oTj6DWMh7q24JDym5LQRn_Lxj1hl61bCcC3MvBBUT9tTom3KnfoJDbblCVjPL4Qft20-4beMtjBMoaJRT75J7jWhvBDq72ybKMQlRX5q79atTMfNTJ-qcH0KQpsIJM5-DWbT8EjHCHJ5KqJbCOVIv5b-0_H4-k-PI3Wh0TXP6-35KHbKbOLJ6J-xTzDqQdMlQGy5DIhMDLQq37JHOX2K-h0h3ffIopDnoYqtPBD4oxJpOyMnbMopvpKDKhOhovbURv2tug3-7HtU5dtjTO2bc_5KnlfMQ_bf--QfbQ0hOhqP-j5JIE_CtyJKKahItr-PnfMtCsqxrL2-R2HD7yWCvO0KncOR5Jj65KhtIzqJODXxcJ0KbBbxjdKlc-jCO43MA-BPC70bAO5J880jvt5R_53n3ksq0x0MTWe-bQyPj3WbokKDOMahvXal7xO-_mQlPK5JkgMx6MqpQJQeQ-5KQN3KJmfbL9bT3WjjTXDa_DqT8JtJ3fL-082-5HjJbpMtvEq4tehHRKtjO9WDTm_Don2JRxDhcl3-jf5-DlXpJHBfCDQgDq-pPKKR7nM43_Xtvo-xuXjf7he4rk3mkjbp5Dfn02OP5Py65Y044syPR82xRnWTrAKfA-b4ncjRcTehoM3xI8LNj405OTbIFO0KJDJCcjqR8ZD6--j6jP; BDRCVFR[Zh1eoDf3ZW3]=mk3SLVN4HKm; BDORZ=B490B5EBF6F3CD402E515D22BCDA1598; BA_HECTOR=2lalaha10l2h0h2ha5050k8hbuvvn61iue1km1t; H_PS_PSSID=40010_40169_40210_40206_40215_40224_40062_40294_40290_40288_40284_40317_40080_40364_40352_40381_40367; smallFlowVersion=old; RT="z=1&dm=baidu.com&si=9752a732-bc5e-4443-8c51-5225d143b2b9&ss=ltf9ji6f&sl=1&tt=4zm&bcn=https%3A%2F%2Ffclog.baidu.com%2Flog%2Fweirwood%3Ftype%3Dperf&ld=5rs&ul=8xv&hd=91k"; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1709697695; ab_sr=1.0.1_Mzg4YTFhNGNjNWEzMjBjY2IxM2I0YWFiNmNkNjVmMmRlMzZiZmM2N2VlYTRiOThhMDgzMmFjNDI2YTRlMDQ3NWY3ZjY4MzBjZTRiYmJjMDk3MjRmMmJhZjczZjYyMDY2OTUzZTMzOWI3N2E1YWQ1M2JkZDNlYTgyMjYxZmMzNWRjMGQ1ZDk5OWE5ZjRhZmQ5ZDE2MjM5NjgzOWM0MDdmMDcwYjRjMGIwNjljYzY0ODM3MTE3NDhkYjZjMmNhNDQ1',
    'Origin': 'https://fanyi.baidu.com',
    'Referer': 'https://fanyi.baidu.com/',
    'Sec-Fetch-Dest': 'empty',
    'Sec-Fetch-Mode': 'cors',
    'Sec-Fetch-Site': 'same-origin',
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36 Edg/116.0.1938.69',
    'X-Requested-With': 'XMLHttpRequest',
    'sec-ch-ua': '"Chromium";v="116", "Not)A;Brand";v="24", "Microsoft Edge";v="116"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"Windows"',
}

params = {
    'from': 'en',
    'to': 'zh',
}
query = input("请输入要翻译的英文")

with open('./jiemi.js', 'r', encoding='utf-8') as f:
    jiemi = f.read()

sign, ts = execjs.compile(jiemi).call('getdata', f'{query}')

data = {
    'from': 'en',
    'to': 'zh',
    'query': query,
    'simple_means_flag': '3',
    'sign': sign,
    'token': 'b9dc8a6fd4d3998c07c38709abd6465b',
    'domain': 'common',
    'ts': ts,
}


def getcontent():
    time.sleep(1)
    response = requests.post('https://fanyi.baidu.com/v2transapi', params=params, cookies=cookies, headers=headers,
                             data=data)
    if response.status_code == 200:
        return response.text
    else:
        return response.status_code

# 狗   sign   871501.634748
result = json.loads(getcontent())['trans_result']['data'][0]['dst']
print(result)
